<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Problem 9: Character Encoding Problems - Admin Guide</title>
    <link rel="stylesheet" href="../../css/style.css">
</head>
<body>
    <!-- Custom Cursor -->
    <div class="cursor" id="cursor"></div>
    <div class="cursor-outline" id="cursorOutline"></div>

    <div class="container">
        <header class="header header-l6">
            <!-- Language Switcher -->
            <div class="language-switcher">
                <a href="description.html" class="lang-btn">üáπüá∑ T√ºrk√ße</a>
                <a href="description-en.html" class="lang-btn active">üá∫üá∏ English</a>
            </div>
            
            <h1>üü° Problem 9: Character Encoding and Data Format Problems</h1>
            <p>L6 - Presentation Layer - Admin Guide Tutorial</p>
        </header>

        <nav class="breadcrumb">
            <a href="../../index.html">Home</a> &gt;
            <a href="#">Problem 9: Character Encoding</a>
        </nav>

        <main class="content">
            <section class="section">
                <h2>üìã Problem Definition</h2>
                <p>Character Encoding (character encoding) problems occur during data transmission in networks due to misinterpretation of text data between different systems. These problems occur during data formatting and encoding/decoding processes at Presentation Layer (L6) level and cause users to see unreadable characters (garbled text).</p>
                
                <div class="danger-box">
                    <strong>‚ö†Ô∏è Critical Situation:</strong> Character encoding errors compromise data integrity and can cause loss of critical information.
                </div>
            </section>

            <section class="section">
                <h2>üñºÔ∏è Character Encoding Problem Examples</h2>
                <p>Below are typical examples of character encoding problems:</p>
                
                <div class="image-container">
                    <img src="../../images/screenshots/encoding_error_display.png" alt="Character Encoding Error" class="screenshot" style="background: #f8f9fa; border: 2px dashed #666; padding: 20px; text-align: center; color: #666;">
                    <figcaption>Figure 1: Garbled text appearance due to incorrect character encoding</figcaption>
                </div>
                
                <p>The situation when text is displayed correctly after encoding is fixed:</p>
                
                <div class="image-container">
                    <img src="../../images/screenshots/encoding_success_display.png" alt="Character Encoding Fixed" class="screenshot" style="background: #f8f9fa; border: 2px dashed #666; padding: 20px; text-align: center; color: #666;">
                    <figcaption>Figure 2: Normal text appearance with correct character encoding</figcaption>
                </div>

                <h3>üéÆ Interactive Character Encoding Simulator</h3>
                <p><strong>Live Demo:</strong> Real-time character encoding conversion and corruption simulator! Perform encoding conversions and see text corruption live.</p>
                
                <div class="encoding-simulator-container">
                    <div class="encoding-controls">
                        <div class="input-section">
                            <h4>üìù Text Input</h4>
                            <textarea id="input-text" placeholder="International characters: √†√°√¢√£√§√•√¶√ß√®√©√™√´
Turkish characters: √ß, ƒü, ƒ±, √∂, ≈ü, √º  
Symbols: ‚Ç¨, ¬£, ¬•, ¬©, ¬Æ, ‚Ñ¢, ¬±">International test: na√Øve caf√©, r√©sum√©, espa√±ol!
Email: admin@company.com
European: √†√°√¢√£√§√•√¶√ß, √®√©√™√´
Currency: ‚Ç¨1,234.56, ¬£789.00, ¬•1,000</textarea>
                            
                            <div class="quick-samples">
                                <h5>üî§ Quick Test Texts:</h5>
                                <button class="sample-btn" data-text="English: na√Øve caf√©, r√©sum√©, clich√©, fianc√©e">üá∫üá∏ English</button>
                                <button class="sample-btn" data-text="Fran√ßais: caf√©, r√©sum√©, na√Øve, fianc√©e, clich√©">üá´üá∑ French</button>
                                <button class="sample-btn" data-text="Deutsch: M√ºller, Gr√∂√üe, wei√ü, Stra√üe, B√§cker">üá©üá™ German</button>
                                <button class="sample-btn" data-text="Espa√±ol: ni√±o, se√±or, a√±o, coraz√≥n, pi√±ata">üá™üá∏ Spanish</button>
                                <button class="sample-btn" data-text="Turkish: √ßƒ±ktƒ±, ƒü√ºzel, ƒ±slak, √∂ƒüretici, ≈üahane">üáπüá∑ Turkish</button>
                                <button class="sample-btn" data-text="Symbols: ‚Ç¨1,234 ‚Ä¢ ¬£567 ‚Ä¢ ¬•890 ‚Ä¢ ¬©2025 ‚Ä¢ ¬ÆTM ‚Ä¢ ¬±5%">üí∞ Symbols</button>
                            </div>
                        </div>
                        
                        <div class="encoding-settings">
                            <h4>‚öôÔ∏è Encoding Settings</h4>
                            <div class="setting-row">
                                <label>Source Encoding:</label>
                                <select id="source-encoding">
                                    <option value="utf-8">UTF-8 (Recommended)</option>
                                    <option value="iso-8859-1">ISO-8859-1 (Latin1)</option>
                                    <option value="iso-8859-9">ISO-8859-9 (Turkish)</option>
                                    <option value="windows-1252">Windows-1252</option>
                                    <option value="ascii">ASCII (7-bit)</option>
                                    <option value="cp1254">CP1254 (Turkish)</option>
                                </select>
                            </div>
                            
                            <div class="setting-row">
                                <label>Target Encoding:</label>
                                <select id="target-encoding">
                                    <option value="utf-8">UTF-8 (Recommended)</option>
                                    <option value="iso-8859-1">ISO-8859-1 (Latin1)</option>
                                    <option value="iso-8859-9">ISO-8859-9 (Turkish)</option>
                                    <option value="windows-1252">Windows-1252</option>
                                    <option value="ascii">ASCII (7-bit)</option>
                                    <option value="cp1254">CP1254 (Turkish)</option>
                                </select>
                            </div>
                            
                            <div class="corruption-controls">
                                <h5>üîß Corruption Simulation</h5>
                                <button id="simulate-corruption" class="action-btn corrupt">üí• Simulate Encoding Error</button>
                                <button id="detect-encoding" class="action-btn detect">üîç Auto-Detect Encoding</button>
                                <button id="convert-encoding" class="action-btn convert">üîÑ Convert Encoding</button>
                                <button id="clear-all" class="action-btn clear">üßπ Clear All</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="output-display">
                        <div class="display-panel original">
                            <h4>üìÑ Original Text (Source Encoding)</h4>
                            <div class="text-preview" id="original-preview">Text will appear here after input...</div>
                            <div class="encoding-info">
                                <span class="info-label">Encoding:</span> 
                                <span id="original-encoding-info">UTF-8</span>
                                <span class="byte-count" id="original-bytes">0 bytes</span>
                            </div>
                        </div>
                        
                        <div class="display-panel converted">
                            <h4>üîÑ Converted Text (Target Encoding)</h4>
                            <div class="text-preview" id="converted-preview">Converted text will appear here...</div>
                            <div class="encoding-info">
                                <span class="info-label">Encoding:</span> 
                                <span id="converted-encoding-info">UTF-8</span>
                                <span class="byte-count" id="converted-bytes">0 bytes</span>
                            </div>
                        </div>
                        
                        <div class="display-panel corrupted">
                            <h4>üí• Corrupted View (Encoding Mismatch)</h4>
                            <div class="text-preview corrupted-text" id="corrupted-preview">Encoding error simulation will appear here...</div>
                            <div class="encoding-info error">
                                <span class="info-label">Problem:</span> 
                                <span id="corruption-type">Source/Target encoding mismatch</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="protocol-examples">
                        <h4>üåê Protocol-Specific Encoding Issues</h4>
                        <div class="protocol-tabs">
                            <button class="tab-btn active" data-protocol="http">HTTP</button>
                            <button class="tab-btn" data-protocol="email">Email</button>
                            <button class="tab-btn" data-protocol="ftp">FTP</button>
                            <button class="tab-btn" data-protocol="database">Database</button>
                        </div>
                        
                        <div class="protocol-content">
                            <div id="http-content" class="protocol-panel active">
                                <h5>üì° HTTP Content-Type Mismatch</h5>
                                <div class="protocol-example">
                                    <div class="header-example">
                                        <strong>Server Response:</strong><br>
                                        <code>Content-Type: text/html; charset=<span id="http-charset">UTF-8</span></code>
                                    </div>
                                    <div class="content-example">
                                        <strong>Actual Content:</strong><br>
                                        <div class="example-text" id="http-example">Content will appear here</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="email-content" class="protocol-panel">
                                <h5>üìß Email MIME Encoding</h5>
                                <div class="protocol-example">
                                    <div class="header-example">
                                        <strong>Email Headers:</strong><br>
                                        <code>Content-Type: text/plain; charset=<span id="email-charset">UTF-8</span></code><br>
                                        <code>Content-Transfer-Encoding: <span id="email-encoding">8bit</span></code>
                                    </div>
                                    <div class="content-example">
                                        <strong>Email Body:</strong><br>
                                        <div class="example-text" id="email-example">Email content will appear here</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="ftp-content" class="protocol-panel">
                                <h5>üìÅ FTP Transfer Mode</h5>
                                <div class="protocol-example">
                                    <div class="header-example">
                                        <strong>FTP Mode:</strong><br>
                                        <code>TYPE <span id="ftp-mode">A</span> (ASCII/Binary)</code>
                                    </div>
                                    <div class="content-example">
                                        <strong>File Content:</strong><br>
                                        <div class="example-text" id="ftp-example">File content will appear here</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="database-content" class="protocol-panel">
                                <h5>üóÑÔ∏è Database Connection Charset</h5>
                                <div class="protocol-example">
                                    <div class="header-example">
                                        <strong>Connection String:</strong><br>
                                        <code>charset=<span id="db-charset">utf8mb4</span></code>
                                    </div>
                                    <div class="content-example">
                                        <strong>Stored Data:</strong><br>
                                        <div class="example-text" id="db-example">Database data will appear here</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="hex-analyzer">
                        <h4>üî¨ Hex/Binary Analysis</h4>
                        <div class="hex-display">
                            <div class="hex-panel">
                                <h5>Original Bytes (UTF-8)</h5>
                                <div class="hex-output" id="original-hex">48 65 78 20 64 61 74 61 20 68 65 72 65...</div>
                            </div>
                            <div class="hex-panel">
                                <h5>Converted Bytes</h5>
                                <div class="hex-output" id="converted-hex">43 6F 6E 76 65 72 74 65 64 20 64 61 74 61...</div>
                            </div>
                        </div>
                        
                        <div class="detection-results">
                            <h5>üéØ Encoding Detection Results</h5>
                            <div class="detection-list" id="detection-results">
                                <div class="detection-item">
                                    <span class="confidence">95%</span>
                                    <span class="encoding-name">UTF-8</span>
                                    <span class="detection-reason">BOM detected, valid UTF-8 sequences</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <h4>Packet Tracer Simulation Files:</h4>
                <ul>
                    <li><strong>Problem File:</strong> <a href="packet_tracer/encoding_problem.pkt" download>encoding_problem.pkt</a> - Character encoding problem</li>
                    <li><strong>Solution File:</strong> <a href="packet_tracer/encoding_solution.pkt" download>encoding_solution.pkt</a> - Encoding fixed</li>
                </ul>
            </section>

            <section class="section">
                <h2>üîç Main Causes of Character Encoding Problems</h2>
                
                <h3>1. Encoding Standard Mismatch</h3>
                <ul>
                    <li><strong>ASCII vs UTF-8:</strong> ASCII usage in old systems, UTF-8 in new systems</li>
                    <li><strong>Latin1 vs UTF-8:</strong> Different encodings for European characters</li>
                    <li><strong>Windows-1252 vs ISO-8859-1:</strong> Microsoft and standard encoding differences</li>
                    <li><strong>Regional Encoding:</strong> Different country/language specific encodings</li>
                </ul>
                
                <h3>2. Protocol Level Encoding Issues</h3>
                <ul>
                    <li><strong>HTTP Header Mismatch:</strong> Wrong charset in Content-Type header</li>
                    <li><strong>FTP Binary vs ASCII:</strong> Wrong FTP transfer mode selection</li>
                    <li><strong>Email MIME Encoding:</strong> Encoding problems in email attachments</li>
                    <li><strong>Database Connection Charset:</strong> Charset mismatch in DB connection</li>
                </ul>
                
                <h3>3. System Level Configuration</h3>
                <ul>
                    <li><strong>Terminal Encoding:</strong> Locale settings in SSH/Telnet sessions</li>
                    <li><strong>File System Encoding:</strong> Difference between file system and application encoding</li>
                    <li><strong>Network Device Charset:</strong> Router/Switch console encoding</li>
                    <li><strong>Proxy/Gateway Conversion:</strong> Charset conversion in intermediate devices</li>
                </ul>
            </section>

            <section class="section">
                <h2>üîß Detection Methods and Analysis</h2>
                
                <div class="info-box">
                    <strong>üí° Note:</strong> Hex editor, protocol analyzer and charset detection tools can be used to detect character encoding problems.
                </div>
                
                <h3>Network Protocol Analysis</h3>
                <div class="code-block">
<span class="comment"># Charset check in HTTP header</span>
<span class="command">curl -I http://example.com/page.html</span>
<span class="output">Content-Type: text/html; charset=UTF-8</span>

<span class="comment"># FTP transfer mode check</span>
<span class="command">ftp> type</span>
<span class="output">Using ascii mode to transfer files.</span>

<span class="comment"># Email header charset check</span>
<span class="command">Content-Type: text/plain; charset=iso-8859-1</span>
<span class="output">Content-Transfer-Encoding: quoted-printable</span>
                </div>
                
                <h3>System Level Charset Detection</h3>
                <div class="code-block">
<span class="comment"># Linux system locale check</span>
<span class="command">locale</span>
<span class="output">LANG=en_US.UTF-8
LC_CTYPE="en_US.UTF-8"
LC_ALL=</span>

<span class="comment"># File encoding detection</span>
<span class="command">file -i document.txt</span>
<span class="output">document.txt: text/plain; charset=utf-8</span>

<span class="comment"># SSH session encoding</span>
<span class="command">echo $LANG</span>
<span class="output">en_US.UTF-8</span>
                </div>
                
                <h3>Database Charset Analysis</h3>
                <div class="code-block">
<span class="comment"># MySQL charset check</span>
<span class="command">SHOW VARIABLES LIKE 'character_set%';</span>
<span class="output">character_set_client    | utf8mb4
character_set_connection | utf8mb4
character_set_database  | utf8mb4</span>

<span class="comment"># PostgreSQL encoding check</span>
<span class="command">SHOW client_encoding;</span>
<span class="output">UTF8</span>
                </div>
            </section>

            <section class="section">
                <h2>‚ö†Ô∏è Character Encoding Problem Symptoms</h2>
                
                <h3>Visual Symptoms:</h3>
                <ul>
                    <li><strong>Garbled Text:</strong> Incomprehensible characters like "√Ñ√Ö‚Äö√É¬°√É¬§√É¬∂√É¬º"</li>
                    <li><strong>Question Marks:</strong> Question marks like "???"</li>
                    <li><strong>Black Diamonds:</strong> ‚ô¶ replacement characters</li>
                    <li><strong>Empty Boxes:</strong> ‚ñ° empty boxes</li>
                </ul>
                
                <h3>Protocol Specific Issues:</h3>
                <ul>
                    <li><strong>Web Pages:</strong> International characters appear broken</li>
                    <li><strong>Email:</strong> Encoding problems in subject and body</li>
                    <li><strong>FTP:</strong> File names transfer corrupted</li>
                    <li><strong>Database:</strong> Stored data becomes unreadable</li>
                </ul>
                
                <div class="warning-box">
                    <strong>‚ö†Ô∏è Critical Risks:</strong>
                    <ul>
                        <li>Critical data becoming unreadable</li>
                        <li>Accessibility issues for international users</li>
                        <li>Data loss during data migration</li>
                        <li>Character corruption in legal documents</li>
                    </ul>
                </div>
            </section>

            <section class="section">
                <h2>üåê Common Encoding Problems and Examples</h2>
                
                <div class="info-box">
                    <h4>üî§ Typical Encoding Issues:</h4>
                    <table style="width: 100%; border-collapse: collapse; margin-top: 10px;">
                        <tr style="background: #f5f5f5; font-weight: bold;">
                            <td style="padding: 8px; border: 1px solid #ddd;">Correct Text</td>
                            <td style="padding: 8px; border: 1px solid #ddd;">Wrong Encoding</td>
                            <td style="padding: 8px; border: 1px solid #ddd;">Cause</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd;">na√Øve caf√©</td>
                            <td style="padding: 8px; border: 1px solid #ddd;">na√É¬Øve caf√É¬©</td>
                            <td style="padding: 8px; border: 1px solid #ddd;">UTF-8 ‚Üí Latin1 interpretation</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd;">r√©sum√©</td>
                            <td style="padding: 8px; border: 1px solid #ddd;">r√É¬©sum√É¬©</td>
                            <td style="padding: 8px; border: 1px solid #ddd;">UTF-8 ‚Üí Windows-1252</td>
                        </tr>
                        <tr>
                            <td style="padding: 8px; border: 1px solid #ddd;">espa√±ol</td>
                            <td style="padding: 8px; border: 1px solid #ddd;">espa√É¬±ol</td>
                            <td style="padding: 8px; border: 1px solid #ddd;">Double encoding</td>
                        </tr>
                    </table>
                </div>
            </section>

            <section class="section">
                <h2>üéØ Packet Tracer Simulation</h2>
                <div class="packet-tracer-box">
                    <p>To see how character encoding problems occur in different protocols and solution methods, you can examine the Packet Tracer simulation. The lab covers encoding issues in FTP, HTTP and Email protocols.</p>
                    
                    <h4>üìÅ Lab Files:</h4>
                    <ul>
                        <li><strong>Problem File:</strong> <a href="packet_tracer/encoding_problem.pkt" class="file-link">encoding_problem.pkt</a></li>
                        <li><strong>Solution File:</strong> <a href="packet_tracer/encoding_solution.pkt" class="file-link">encoding_solution.pkt</a></li>
                    </ul>
                    
                    <h4>Lab Scenarios:</h4>
                    <ul>
                        <li>HTTP Content-Type charset mismatch</li>
                        <li>FTP ASCII vs Binary transfer mode</li>
                        <li>Email MIME encoding problems</li>
                        <li>Terminal/SSH session locale settings</li>
                    </ul>
                </div>
            </section>

            <section class="section">
                <h2>üíº Real World Character Encoding Scenarios</h2>
                
                <div class="info-box">
                    <h4>üè¢ Case: International E-commerce Platform</h4>
                    <p><strong>Situation:</strong> Product names appear broken on multinational e-commerce site</p>
                    <p><strong>Problem:</strong> Database uses UTF-8 but web server uses Latin1</p>
                    <p><strong>Impact:</strong> Sales stopped in European and international markets</p>
                </div>
                
                <div class="warning-box">
                    <h4>üö® Case: Banking System Integration</h4>
                    <p><strong>Situation:</strong> Customer names corrupted during data transfer between bank systems</p>
                    <p><strong>Problem:</strong> Legacy system uses EBCDIC, new system uses UTF-8</p>
                    <p><strong>Result:</strong> KYC (Know Your Customer) compliance problems</p>
                </div>
            </section>

            <section class="section">
                <h2>üõ†Ô∏è Encoding Detection and Conversion Tools</h2>
                
                <h3>Command Line Tools:</h3>
                <div class="code-block">
<span class="comment"># File encoding detection</span>
<span class="command">chardet document.txt</span>
<span class="output">document.txt: windows-1252 with confidence 0.73</span>

<span class="comment"># Character set conversion</span>
<span class="command">iconv -f windows-1252 -t utf-8 input.txt > output.txt</span>

<span class="comment"># Hex dump for character analysis</span>
<span class="command">hexdump -C file.txt | head -5</span>
<span class="output">00000000  c3 84 c3 b6 c3 bc 0a</span>
                </div>
                
                <h3>Network Analysis Tools:</h3>
                <ul>
                    <li><strong>Wireshark:</strong> Charset analysis in protocol packets</li>
                    <li><strong>curl:</strong> HTTP header charset verification</li>
                    <li><strong>telnet/netcat:</strong> Raw protocol text inspection</li>
                    <li><strong>Browser DevTools:</strong> Web page encoding debugging</li>
                </ul>
            </section>
        </main>

        <nav class="navigation">
            <a href="../../index.html" class="nav-button">‚Üê Home</a>
            <a href="solution-en.html" class="nav-button">Solution Details ‚Üí</a>
        </nav>
    </div>

    <!-- GSAP CDN for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <style>
        /* Character Encoding Simulator Styles */
        .encoding-simulator-container {
            background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 50%, #581c87 100%);
            border-radius: 20px;
            padding: 30px;
            margin: 25px 0;
            border: 1px solid #4338ca;
            box-shadow: 0 20px 40px rgba(79, 70, 229, 0.3);
            position: relative;
            overflow: hidden;
        }

        .encoding-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
            position: relative;
            z-index: 1;
        }

        .input-section {
            background: rgba(15, 23, 42, 0.8);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #475569;
            backdrop-filter: blur(10px);
        }

        .input-section h4 {
            color: #60a5fa;
            margin-bottom: 15px;
            font-size: 16px;
        }

        #input-text {
            width: 100%;
            height: 120px;
            background: rgba(30, 41, 59, 0.9);
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 12px;
            color: #e2e8f0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            resize: vertical;
            outline: none;
            transition: all 0.3s ease;
        }

        #input-text:focus {
            border-color: #60a5fa;
            box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.1);
        }

        .sample-btn {
            background: linear-gradient(135deg, #475569, #64748b);
            border: none;
            border-radius: 6px;
            padding: 6px 10px;
            color: white;
            font-size: 10px;
            cursor: pointer;
            margin: 2px;
            transition: all 0.3s ease;
        }

        .sample-btn:hover {
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
            transform: translateY(-1px);
        }

        .encoding-settings {
            background: rgba(15, 23, 42, 0.8);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #475569;
            backdrop-filter: blur(10px);
        }

        .action-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 6px;
            font-size: 11px;
            cursor: pointer;
            margin: 3px;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .action-btn.corrupt {
            background: linear-gradient(135deg, #dc2626, #ef4444);
            color: white;
        }

        .action-btn.detect {
            background: linear-gradient(135deg, #059669, #10b981);
            color: white;
        }

        .action-btn.convert {
            background: linear-gradient(135deg, #7c3aed, #8b5cf6);
            color: white;
        }

        .action-btn.clear {
            background: linear-gradient(135deg, #64748b, #94a3b8);
            color: white;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .output-display {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 25px;
            position: relative;
            z-index: 1;
        }

        .display-panel {
            background: rgba(15, 23, 42, 0.8);
            border-radius: 12px;
            padding: 15px;
            border: 1px solid #334155;
            backdrop-filter: blur(10px);
            position: relative;
        }

        .display-panel.original {
            border-left: 4px solid #10b981;
        }

        .display-panel.converted {
            border-left: 4px solid #60a5fa;
        }

        .display-panel.corrupted {
            border-left: 4px solid #ef4444;
        }

        .text-preview {
            background: rgba(30, 41, 59, 0.9);
            border-radius: 6px;
            padding: 12px;
            min-height: 80px;
            max-height: 120px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            line-height: 1.4;
            color: #cbd5e1;
            border: 1px solid #475569;
        }

        .text-preview.corrupted-text {
            color: #fca5a5;
            background: rgba(127, 29, 29, 0.2);
        }

        .protocol-examples {
            background: rgba(15, 23, 42, 0.8);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid #334155;
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 1;
        }

        .tab-btn {
            background: rgba(75, 85, 99, 0.6);
            border: none;
            border-radius: 6px;
            padding: 8px 12px;
            color: #d1d5db;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab-btn.active {
            background: linear-gradient(135deg, #06b6d4, #0891b2);
            color: white;
        }

        .protocol-panel {
            display: none;
        }

        .protocol-panel.active {
            display: block;
        }

        .hex-analyzer {
            background: rgba(15, 23, 42, 0.8);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid #334155;
            backdrop-filter: blur(10px);
            position: relative;
            z-index: 1;
        }

        .hex-display {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .hex-output {
            background: rgba(30, 41, 59, 0.9);
            border-radius: 6px;
            padding: 10px;
            font-family: 'Courier New', monospace;
            font-size: 10px;
            line-height: 1.6;
            color: #cbd5e1;
            border: 1px solid #475569;
            min-height: 60px;
            overflow-x: auto;
        }

        .detection-item {
            background: rgba(30, 41, 59, 0.6);
            border-radius: 6px;
            padding: 8px 10px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 11px;
            margin-bottom: 5px;
        }

        .confidence {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
            min-width: 35px;
            text-align: center;
        }

        @media (max-width: 768px) {
            .encoding-controls { grid-template-columns: 1fr; }
            .output-display { grid-template-columns: 1fr; }
            .hex-display { grid-template-columns: 1fr; }
        }
    </style>
    
    <script>
        gsap.registerPlugin(ScrollTrigger);
        
        document.addEventListener('DOMContentLoaded', function() {
            // Custom Cursor System and animations
            const cursor = document.getElementById('cursor');
            const cursorOutline = document.getElementById('cursorOutline');
            
            if (cursor && cursorOutline) {
                let mouseX = 0, mouseY = 0, outlineX = 0, outlineY = 0;
                setTimeout(() => { cursor.style.opacity = '1'; cursorOutline.style.opacity = '1'; }, 500);
                document.addEventListener('mousemove', (e) => { mouseX = e.clientX; mouseY = e.clientY; cursor.style.left = mouseX + 'px'; cursor.style.top = mouseY + 'px'; });
                function animateOutline() { outlineX += (mouseX - outlineX) * 0.1; outlineY += (mouseY - outlineY) * 0.1; cursorOutline.style.left = outlineX + 'px'; cursorOutline.style.top = outlineY + 'px'; requestAnimationFrame(animateOutline); }
                animateOutline();
                document.querySelectorAll('a, button, .nav-button, .lang-btn, .file-link, .sample-btn, .action-btn, .tab-btn').forEach(element => {
                    element.addEventListener('mouseenter', () => { cursor.classList.add('cursor-hover'); cursorOutline.classList.add('cursor-outline-hover'); });
                    element.addEventListener('mouseleave', () => { cursor.classList.remove('cursor-hover'); cursorOutline.classList.remove('cursor-outline-hover'); });
                });
            }
            
            const sections = document.querySelectorAll('.section');
            sections.forEach((section, index) => {
                gsap.fromTo(section, { opacity: 0, y: 50 }, { opacity: 1, y: 0, duration: 0.8, ease: "power3.out", scrollTrigger: { trigger: section, start: "top 85%", once: true } });
            });

            // Character Encoding Simulator - English Version
            const inputText = document.getElementById('input-text');
            const sourceEncoding = document.getElementById('source-encoding');
            const targetEncoding = document.getElementById('target-encoding');
            const originalPreview = document.getElementById('original-preview');
            const convertedPreview = document.getElementById('converted-preview');
            const corruptedPreview = document.getElementById('corrupted-preview');
            const detectionResults = document.getElementById('detection-results');

            // Update display function
            function updateDisplay() {
                const text = inputText.value;
                if (!text) {
                    originalPreview.textContent = 'Text will appear here after input...';
                    convertedPreview.textContent = 'Converted text will appear here...';
                    corruptedPreview.textContent = 'Encoding error simulation will appear here...';
                    return;
                }

                originalPreview.textContent = text;
                
                // Simulate corruption for demonstration
                let corruptedText = text;
                if (sourceEncoding.value !== targetEncoding.value) {
                    corruptedText = text.replace(/[√†√°√¢√§√ß√®√©√™√´√±√∂√º]/g, (match) => {
                        const map = { '√†': '√É ', '√°': '√É¬°', '√§': '√É¬§', '√ß': '√É¬ß', '√®': '√É¬®', '√©': '√É¬©', '√±': '√É¬±', '√∂': '√É¬∂', '√º': '√É¬º' };
                        return map[match] || match;
                    });
                }
                
                convertedPreview.textContent = text;
                corruptedPreview.textContent = corruptedText;
                
                // Update hex display
                const originalHex = document.getElementById('original-hex');
                const convertedHex = document.getElementById('converted-hex');
                if (originalHex && convertedHex) {
                    originalHex.textContent = Array.from(new TextEncoder().encode(text)).map(byte => byte.toString(16).padStart(2, '0').toUpperCase()).join(' ');
                    convertedHex.textContent = Array.from(new TextEncoder().encode(corruptedText)).map(byte => byte.toString(16).padStart(2, '0').toUpperCase()).join(' ');
                }
            }

            // Event listeners
            if (inputText) inputText.addEventListener('input', updateDisplay);
            if (sourceEncoding) sourceEncoding.addEventListener('change', updateDisplay);
            if (targetEncoding) targetEncoding.addEventListener('change', updateDisplay);

            // Sample buttons
            document.querySelectorAll('.sample-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    if (inputText) {
                        inputText.value = btn.getAttribute('data-text');
                        updateDisplay();
                    }
                });
            });

            // Action buttons
            document.getElementById('simulate-corruption')?.addEventListener('click', () => {
                if (inputText) {
                    inputText.value = 'International test: na√Øve caf√©, r√©sum√©, espa√±ol!';
                    if (sourceEncoding) sourceEncoding.value = 'utf-8';
                    if (targetEncoding) targetEncoding.value = 'iso-8859-1';
                    updateDisplay();
                }
            });

            document.getElementById('detect-encoding')?.addEventListener('click', () => {
                if (detectionResults) {
                    detectionResults.innerHTML = `
                        <div class="detection-item">
                            <span class="confidence">95%</span>
                            <span class="encoding-name">UTF-8</span>
                            <span class="detection-reason">Unicode characters detected</span>
                        </div>
                        <div class="detection-item">
                            <span class="confidence">75%</span>
                            <span class="encoding-name">ISO-8859-1</span>
                            <span class="detection-reason">Latin characters present</span>
                        </div>`;
                }
            });

            document.getElementById('convert-encoding')?.addEventListener('click', updateDisplay);

            document.getElementById('clear-all')?.addEventListener('click', () => {
                if (inputText) inputText.value = '';
                updateDisplay();
            });

            // Protocol tabs
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.tab-btn').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.protocol-panel').forEach(p => p.classList.remove('active'));
                    btn.classList.add('active');
                    const protocol = btn.getAttribute('data-protocol');
                    const panel = document.getElementById(`${protocol}-content`);
                    if (panel) panel.classList.add('active');
                });
            });

            // Initialize
            if (inputText) {
                inputText.value = `International test: na√Øve caf√©, r√©sum√©, espa√±ol!
Email: admin@company.com
European: √†√°√¢√£√§√•√¶√ß, √®√©√™√´
Currency: ‚Ç¨1,234.56, ¬£789.00, ¬•1,000`;
                updateDisplay();
            }

            console.log('üîß Problem 09 (EN): Character Encoding Simulator - Fully loaded! üéÆ');
        });
    </script>
</body>
</html> 