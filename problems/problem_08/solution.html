<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ã‡Ã¶zÃ¼m: SSH Session Timeout ve Uzaktan EriÅŸim Problemleri - Admin Rehberi</title>
    <link rel="stylesheet" href="../../css/style.css">
</head>
<body>
    <!-- Custom Cursor -->
    <div class="cursor" id="cursor"></div>
    <div class="cursor-outline" id="cursorOutline"></div>

    <div class="container">
        <header class="header header-solution">
                        <!-- Language Switcher -->
            <div class="language-switcher">
                <a href="solution.html" class="lang-btn active">ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e</a>
                <a href="solution-en.html" class="lang-btn">ğŸ‡ºğŸ‡¸ English</a>
            </div>
            
<h1>âœ… Ã‡Ã¶zÃ¼m AdÄ±mlarÄ±: SSH Session Timeout ve Uzaktan EriÅŸim Problemleri</h1>
            <p>L5 - Session Layer - UygulamalÄ± Ã‡Ã¶zÃ¼m Rehberi</p>
        </header>

        <nav class="breadcrumb">
            <a href="../../index.html">â† Ana Sayfa</a> / <a href="description.html">Problem 8</a> / Ã‡Ã¶zÃ¼m DetaylarÄ±
        </nav>

        <main class="content">
            <section class="section">
                <h2>ğŸ”§ AdÄ±m AdÄ±m SSH Session Timeout OnarÄ±m SÃ¼reci</h2>
                <p>Bu rehber, SSH session timeout problemlerinin tespit edilmesi ve optimize edilmesi iÃ§in izlenmesi gereken adÄ±mlarÄ± detaylÄ± olarak aÃ§Ä±klamaktadÄ±r. Session Layer (L5) seviyesinde kalÄ±cÄ± Ã§Ã¶zÃ¼mler sunulmuÅŸtur.</p>
            </section>

            <section class="section">
                <h2>ğŸ–¼ï¸ Ã‡Ã¶zÃ¼m SonrasÄ±: SSH Session KararlÄ±lÄ±ÄŸÄ±</h2>
                <p>SSH timeout parametreleri optimize edildikten sonra, uzun sÃ¼reli session'lar kararlÄ± ÅŸekilde Ã§alÄ±ÅŸÄ±r. AÅŸaÄŸÄ±da SSH keepalive ile kararlÄ± baÄŸlantÄ±nÄ±n saÄŸlandÄ±ÄŸÄ± gÃ¶rÃ¼lmektedir:</p>
                
                <div class="image-container">
                    <img src="../../images/screenshots/ssh_session_success.png" alt="SSH Keepalive BaÅŸarÄ±lÄ±" class="screenshot" style="background: #f8f9fa; border: 2px dashed #666; padding: 20px; text-align: center; color: #666;">
                    <figcaption>Resim 1: SSH keepalive ile kararlÄ± ve uzun sÃ¼reli baÄŸlantÄ±</figcaption>
                </div>
                
                <h4>Packet Tracer Ã‡Ã¶zÃ¼m DosyasÄ±:</h4>
                <p>Ã‡Ã¶zÃ¼m sonrasÄ± optimize edilmiÅŸ SSH yapÄ±landÄ±rmasÄ±nÄ± gÃ¶steren Packet Tracer dosyasÄ±nÄ± <a href="packet_tracer/ssh_timeout_solution.pkt" download>buradan</a> indirebilirsiniz.</p>
            </section>

            <section class="section">
                <h2>AdÄ±m 1: Server-Side SSH Timeout Optimizasyonu</h2>
                
                <div class="step">
                    <div class="step-number">1A</div>
                    <div class="step-content">
                        <h3>Cisco Router/Switch SSH KonfigÃ¼rasyonu</h3>
                        <p>Cisco cihazlarda SSH timeout ve keepalive ayarlarÄ±nÄ± optimize edin:</p>
                        <div class="code-block">
<span class="comment"># SSH daemon timeout sÃ¼resini artÄ±rma</span>
<span class="command">Router(config)# ip ssh time-out 300</span>
<span class="comment"># SSH timeout 5 dakikaya Ã§Ä±karÄ±ldÄ± (default: 120 saniye)</span>

<span class="command">Router(config)# ip ssh authentication-retries 5</span>
<span class="comment"># Authentication retry sayÄ±sÄ±nÄ± artÄ±r</span>

<span class="comment"># VTY line exec-timeout optimize etme</span>
<span class="command">Router(config)# line vty 0 15</span>
<span class="command">Router(config-line)# exec-timeout 60 0</span>
<span class="comment"># VTY timeout 60 dakika (0 = sonsuz da olabilir ama gÃ¼venlik riski)</span>

<span class="command">Router(config-line)# session-timeout 120</span>
<span class="comment"># Absolute session timeout 120 dakika</span>
                        </div>
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">1B</div>
                    <div class="step-content">
                        <h3>Linux/Unix SSH Server Optimizasyonu</h3>
                        <p>SSH daemon konfigÃ¼rasyonunu (/etc/ssh/sshd_config) optimize edin:</p>
                        <div class="code-block">
<span class="comment"># SSH server keepalive ayarlarÄ±</span>
<span class="command">ClientAliveInterval 120</span>
<span class="comment"># Her 2 dakikada bir client'a keepalive gÃ¶nder</span>

<span class="command">ClientAliveCountMax 3</span>
<span class="comment"># 3 defa cevap alamazsa baÄŸlantÄ±yÄ± kes</span>

<span class="command">TCPKeepAlive yes</span>
<span class="comment"># TCP seviyesinde keepalive etkinleÅŸtir</span>

<span class="command">LoginGraceTime 300</span>
<span class="comment"># Login iÃ§in 5 dakika grace time</span>

<span class="comment"># KonfigÃ¼rasyonu aktive etme</span>
<span class="command">systemctl reload sshd</span>
<span class="comment"># SSH daemon reload (mevcut baÄŸlantÄ±larÄ± koparmaz)</span>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section">
                <h2>AdÄ±m 2: Client-Side SSH Optimizasyonu</h2>
                
                <div class="step">
                    <div class="step-number">2A</div>
                    <div class="step-content">
                        <h3>SSH Client Keepalive AyarlarÄ±</h3>
                        <p>SSH client'tan server'a dÃ¼zenli keepalive paketleri gÃ¶nderin:</p>
                        <div class="code-block">
<span class="comment"># Command line ile keepalive</span>
<span class="command">ssh -o ServerAliveInterval=60 -o ServerAliveCountMax=3 admin@192.168.1.1</span>
<span class="comment"># Her 60 saniyede keepalive, 3 defa fail olursa disconnect</span>

<span class="comment"># SSH config dosyasÄ± (~/.ssh/config) ile kalÄ±cÄ± ayar</span>
<span class="command">Host network-devices</span>
<span class="command">    HostName *.local</span>
<span class="command">    User admin</span>
<span class="command">    ServerAliveInterval 60</span>
<span class="command">    ServerAliveCountMax 3</span>
<span class="command">    ConnectTimeout 10</span>
                        </div>
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">2B</div>
                    <div class="step-content">
                        <h3>Terminal Multiplexer KullanÄ±mÄ±</h3>
                        <p>SSH session persistency iÃ§in screen veya tmux kullanÄ±n:</p>
                        <div class="code-block">
<span class="comment"># Screen ile persistent session</span>
<span class="command">ssh admin@192.168.1.1</span>
<span class="command">screen -S router-config</span>
<span class="comment"># Router konfigÃ¼rasyonu yapÄ±n</span>
<span class="command">Ctrl+A, D</span>
<span class="comment"># Screen'i detach edin (SSH kapansa bile devam eder)</span>

<span class="comment"># Tekrar baÄŸlanÄ±p session'Ä± resume etme</span>
<span class="command">ssh admin@192.168.1.1</span>
<span class="command">screen -r router-config</span>
<span class="comment"># KaldÄ±ÄŸÄ±nÄ±z yerden devam edin</span>

<span class="comment"># tmux alternatifi</span>
<span class="command">tmux new-session -s maintenance</span>
<span class="command">tmux detach</span>
<span class="command">tmux attach-session -t maintenance</span>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="section">
                <h2>AdÄ±m 3: Network Infrastructure Optimizasyonu</h2>

                <div class="step">
                    <div class="step-number">3A</div>
                    <div class="step-content">
                        <h3>NAT/Firewall Timeout AyarlarÄ±</h3>
                        <p>Network cihazlarÄ±nda SSH connection tracking timeout'larÄ±nÄ± optimize edin:</p>
                        <div class="code-block">
<span class="comment"># Cisco ASA Firewall timeout ayarlarÄ±</span>
<span class="command">ASA(config)# timeout conn 2:00:00</span>
<span class="comment"># Connection timeout 2 saat</span>

<span class="command">ASA(config)# timeout tcp-proxy-reassembly 01:00:00</span>
<span class="comment"># TCP proxy timeout 1 saat</span>

<span class="comment"># pfSense firewall TCP timeout</span>
<span class="command">Advanced > Firewall & NAT > Firewall Advanced</span>
<span class="command">TCP connection timeout: 7200 seconds</span>

<span class="comment"># Linux iptables connection tracking</span>
<span class="command">echo 7200 > /proc/sys/net/netfilter/nf_conntrack_tcp_timeout_established</span>
<span class="comment"># Established TCP connection timeout 2 saat</span>
                        </div>
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">3B</div>
                    <div class="step-content">
                        <h3>QoS ve Traffic Prioritization</h3>
                        <p>SSH trafiÄŸi iÃ§in QoS politikalarÄ± uygulayarak latency'yi minimize edin:</p>
                        <div class="code-block">
<span class="comment"># Cisco router SSH traffic QoS</span>
<span class="command">Router(config)# access-list 101 permit tcp any any eq 22</span>
<span class="command">Router(config)# class-map SSH_TRAFFIC</span>
<span class="command">Router(config-cmap)# match access-group 101</span>

<span class="command">Router(config)# policy-map WAN_QOS</span>
<span class="command">Router(config-pmap)# class SSH_TRAFFIC</span>
<span class="command">Router(config-pmap-c)# priority percent 20</span>
<span class="comment"># SSH trafiÄŸine %20 priority ver</span>

<span class="command">Router(config-pmap-c)# set dscp ef</span>
<span class="comment"># SSH paketlerini expedited forwarding olarak iÅŸaretle</span>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section">
                <h2>AdÄ±m 4: Session Management En Ä°yi UygulamalarÄ±</h2>

                <div class="step">
                    <div class="step-number">4A</div>
                    <div class="step-content">
                        <h3>Connection Pooling ve Multiplexing</h3>
                        <p>SSH connection multiplexing ile session overhead'ini azaltÄ±n:</p>
                        <div class="code-block">
<span class="comment"># SSH config dosyasÄ±nda connection multiplexing</span>
<span class="command">Host *</span>
<span class="command">    ControlMaster auto</span>
<span class="command">    ControlPath ~/.ssh/master-%r@%h:%p</span>
<span class="command">    ControlPersist 600</span>
<span class="comment"># Ä°lk baÄŸlantÄ± sonrasÄ± 10 dakika socket aÃ§Ä±k tut</span>

<span class="comment"># Multiple session'lar aynÄ± TCP connection kullanacak</span>
<span class="command">ssh admin@router1.local</span>
<span class="command">ssh admin@router1.local</span>
<span class="comment"># Ä°kinci baÄŸlantÄ± anÄ±nda aÃ§Ä±lÄ±r</span>
                        </div>
                    </div>
                </div>

                <div class="step">
                    <div class="step-number">4B</div>
                    <div class="step-content">
                        <h3>Monitoring ve Alerting</h3>
                        <p>SSH session health'ini sÃ¼rekli izleyin:</p>
                        <div class="code-block">
<span class="comment"># SSH connection monitoring script</span>
<span class="command">#!/bin/bash</span>
<span class="command">while true; do</span>
<span class="command">  ssh -o ConnectTimeout=5 admin@router1 'echo "Keepalive: $(date)"'</span>
<span class="command">  if [ $? -ne 0 ]; then</span>
<span class="command">    echo "SSH connection failed at $(date)" | mail -s "SSH Alert" admin@company.com</span>
<span class="command">  fi</span>
<span class="command">  sleep 300</span>
<span class="command">done</span>

<span class="comment"># SSH session sayÄ±sÄ±nÄ± monitoring</span>
<span class="command">Router# show ssh | count</span>
<span class="command">Router# show users | include SSH</span>
                        </div>
                    </div>
                </div>
            </section>

            <section class="section">
                <h2>ğŸ¯ Packet Tracer Lab Ã–zeti</h2>
                <div class="packet-tracer-box">
                    <h4>ğŸ“ Lab DosyalarÄ±:</h4>
                    <ul>
                        <li><strong>Problem DosyasÄ±:</strong> <a href="packet_tracer/ssh_timeout_problem.pkt" class="file-link">ssh_timeout_problem.pkt</a> - SSH timeout problemi</li>
                        <li><strong>Ã‡Ã¶zÃ¼m DosyasÄ±:</strong> <a href="packet_tracer/ssh_timeout_solution.pkt" class="file-link">ssh_timeout_solution.pkt</a> - SSH optimize edilmiÅŸ</li>
                    </ul>
                    
                    <h4>Lab Ã‡Ã¶zÃ¼m AdÄ±mlarÄ±:</h4>
                    <ol>
                        <li>SSH timeout ayarlarÄ±nÄ± diagnosis etme</li>
                        <li>VTY line exec-timeout optimize etme</li>
                        <li>Client-side keepalive yapÄ±landÄ±rmasÄ±</li>
                        <li>Long-running session test etme</li>
                    </ol>
                </div>
            </section>

            <section class="section">
                <h2>ğŸ’¡ SSH Session Management En Ä°yi UygulamalarÄ±</h2>
                <div class="info-box">
                    <h4>Production Environment Ä°Ã§in Ã–neriler:</h4>
                    <ul>
                        <li><strong>Reasonable Timeouts:</strong> Ã‡ok kÄ±sa timeout gÃ¼venlik riski, Ã§ok uzun timeout security risk</li>
                        <li><strong>Keepalive Strategy:</strong> Hem client hem server-side keepalive kullanÄ±n</li>
                        <li><strong>Session Persistence:</strong> Critical maintenance iÃ§in screen/tmux kullanÄ±n</li>
                        <li><strong>Connection Monitoring:</strong> SSH session health'ini otomatik izleyin</li>
                        <li><strong>Backup Access:</strong> SSH fail olduÄŸunda alternatif eriÅŸim yollarÄ± hazÄ±rlayÄ±n</li>
                    </ul>
                </div>
            </section>

            <section class="section">
                <h2>âš ï¸ SSH Timeout Troubleshooting Checklist</h2>
                <div class="warning-box">
                    <h4>SSH Session KesildiÄŸinde Kontrol Edilecekler:</h4>
                    <ol>
                        <li><strong>Server SSH Config:</strong> ClientAliveInterval, TCPKeepAlive ayarlarÄ±</li>
                        <li><strong>Client Keepalive:</strong> ServerAliveInterval parametresi</li>
                        <li><strong>VTY Timeout:</strong> exec-timeout ve session-timeout deÄŸerleri</li>
                        <li><strong>Network Path:</strong> NAT/Firewall timeout ayarlarÄ±</li>
                        <li><strong>Network Quality:</strong> Latency, packet loss, jitter kontrolÃ¼</li>
                        <li><strong>Load Balancer:</strong> Session persistence ayarlarÄ±</li>
                    </ol>
                </div>
            </section>

            <section class="section">
                <h2>ğŸ“Š SSH Performance Metrics</h2>
                <div class="success-box">
                    <h4>Ä°zlenmesi Gereken SSH Metrikleri:</h4>
                    <ul>
                        <li><strong>Connection Success Rate:</strong> BaÅŸarÄ±lÄ± baÄŸlantÄ± oranÄ±</li>
                        <li><strong>Session Duration:</strong> Ortalama session sÃ¼resi</li>
                        <li><strong>Timeout Frequency:</strong> Timeout olaylarÄ±nÄ±n sÄ±klÄ±ÄŸÄ±</li>
                        <li><strong>Authentication Time:</strong> Login sÃ¼resi</li>
                        <li><strong>Response Time:</strong> Komut yanÄ±t sÃ¼releri</li>
                        <li><strong>Concurrent Sessions:</strong> EÅŸzamanlÄ± session sayÄ±sÄ±</li>
                    </ul>
                </div>
            </section>
        </main>

        <nav class="navigation">
            <a href="description.html" class="nav-button">â† Problem TanÄ±mÄ±</a>
            <a href="../../index.html" class="nav-button">Ana Sayfa</a>
            <a href="../problem_09/description.html" class="nav-button">Problem 9'a GeÃ§ â†’</a>
        </nav>
    </div>

    <!-- GSAP CDN for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <script>
        gsap.registerPlugin(ScrollTrigger);
        
        document.addEventListener('DOMContentLoaded', function() {
            // Custom Cursor System
            const cursor = document.getElementById('cursor');
            const cursorOutline = document.getElementById('cursorOutline');
            
            if (cursor && cursorOutline) {
                let mouseX = 0, mouseY = 0, outlineX = 0, outlineY = 0;
                
                setTimeout(() => {
                    cursor.style.opacity = '1';
                    cursorOutline.style.opacity = '1';
                }, 500);
                
                document.addEventListener('mousemove', (e) => {
                    mouseX = e.clientX; mouseY = e.clientY;
                    cursor.style.left = mouseX + 'px'; cursor.style.top = mouseY + 'px';
                });
                
                function animateOutline() {
                    outlineX += (mouseX - outlineX) * 0.1; outlineY += (mouseY - outlineY) * 0.1;
                    cursorOutline.style.left = outlineX + 'px'; cursorOutline.style.top = outlineY + 'px';
                    requestAnimationFrame(animateOutline);
                }
                animateOutline();
                
                // Interactive elements hover effects
                document.querySelectorAll('a, button, .nav-button, .lang-btn, .file-link').forEach(element => {
                    element.addEventListener('mouseenter', () => {
                        cursor.classList.add('cursor-hover'); cursorOutline.classList.add('cursor-outline-hover');
                    });
                    element.addEventListener('mouseleave', () => {
                        cursor.classList.remove('cursor-hover'); cursorOutline.classList.remove('cursor-outline-hover');
                    });
                });
            }
            
            // Initialize scroll animations for sections
            const sections = document.querySelectorAll('.section');
            sections.forEach((section, index) => {
                gsap.fromTo(section, {
                    opacity: 0,
                    y: 50
                }, {
                    opacity: 1,
                    y: 0,
                    duration: 0.8,
                    ease: "power3.out",
                    scrollTrigger: {
                        trigger: section,
                        start: "top 85%",
                        once: true
                    }
                });
            });
            
            console.log('ğŸ”§ Problem 08 Solution (TR) - Interactive features loaded');
        });
    </script>
</body>
</html> 