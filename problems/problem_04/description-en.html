<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Problem 4: OSPF Neighbor Establishment Issues - Admin Guide</title>
    <link rel="stylesheet" href="../../css/style.css">
</head>
<body>
    <!-- Custom Cursor -->
    <div class="cursor" id="cursor"></div>
    <div class="cursor-outline" id="cursorOutline"></div>

    <div class="container">
        <header class="header header-l3">
            <!-- Language Switcher -->
            <div class="language-switcher">
                <a href="description.html" class="lang-btn">ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e</a>
                <a href="description-en.html" class="lang-btn active">ğŸ‡ºğŸ‡¸ English</a>
            </div>
            
            <h1>ğŸŸ  Problem 4: OSPF Neighbor Establishment Issues</h1>
            <p>L3 - Network Layer - Admin Guide Tutorial</p>
        </header>

        <nav class="breadcrumb">
            <a href="../../index.html">Home</a> &gt;
            <a href="#">Problem 4: OSPF Neighbor</a>
        </nav>

        <main class="content">
            <section class="section">
                <h2>Problem Definition: OSPF and Neighbor Relationship</h2>
                <p>
                    Open Shortest Path First (OSPF) is a widely used link-state routing protocol in large and complex networks. The basic working principle of OSPF is that routers establish "adjacency" with each other to share link-state information (LSA) and create a map of the entire network topology using this information.
                </p>
                <p>
                    <strong>OSPF Neighbor Problem</strong> occurs when two OSPF routers cannot fully establish a neighbor relationship (cannot reach Full state) due to various reasons. This causes routing tables to be incomplete or incorrect, resulting in inability to reach certain destinations in the network.
                </p>
                <div class="info-box">
                    <strong>Information:</strong> The OSPF neighbor process consists of several phases: Down, Init, 2-Way, ExStart, Exchange, Loading and Full. The problem usually occurs when routers get stuck in 2-Way or ExStart phases.
                </div>
            </section>

            <section class="section">
                <h2>ğŸ–¼ï¸ Faulty OSPF Topology (Area Mismatch)</h2>
                <p>Below is an example of a situation where OSPF adjacency cannot be established. When two routers are configured in different OSPF areas (Router-A: Area 0, Router-B: Area 1), adjacency cannot be established and inter-network communication cannot be provided:</p>
                
                <div class="topology-diagram">
                    <pre class="ascii-art">
    192.168.10.0/24                192.168.100.0/24               192.168.20.0/24
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”                       â”Œâ”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”
         â”‚  PC0  â”‚                       â”‚       â”‚                      â”‚  PC1  â”‚
         â”‚ .10.10â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ .20.10â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚       â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”˜
                                         â”‚       â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚Router â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚     Gig0/0           â”‚   A   â”‚          Gig0/1      â”‚
                  â”‚    .100.1            â”‚AREA 0 â”‚         .100.2       â”‚
                  â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
                  â”‚                                                     â”‚
                  â”‚                    âŒ PROBLEM âŒ                    â”‚
                  â”‚             Different OSPF Areas!                  â”‚
                  â”‚                                                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”
         â”‚     Router-A    â”‚                           â”‚     Router-B      â”‚
         â”‚    OSPF Area 0  â”‚        ADJACENCY        â”‚    OSPF Area 1   â”‚
         â”‚                 â”‚â—„â”€â”€â”€â”€â”€â”€ CANNOT BE â”€â”€â”€â”€â”€â”€â–ºâ”‚                   â”‚
         â”‚ 192.168.10.1/24 â”‚       ESTABLISHED        â”‚ 192.168.20.1/24  â”‚
         â”‚192.168.100.1/24 â”‚                           â”‚192.168.100.2/24  â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    </pre>
                </div>
                
                <h3>Problem Detection: Ping Test Failed</h3>
                <p>When ping is sent from PC0 to PC1, it fails due to OSPF area mismatch:</p>
                <div class="image-container">
                    <img src="../../images/screenshots/ospf_ping_failure.png" alt="OSPF Neighbor Problem - Ping Failed" class="screenshot">
                    <figcaption>Figure 1: Inter-network ping failure when OSPF adjacency cannot be established</figcaption>
                </div>
                
                <h3>Problem Detection: OSPF Neighbor List Empty</h3>
                <p>When OSPF neighbor check is performed on routers, empty results are obtained:</p>
                <div class="code-block">
<span class="command">Router-A# show ip ospf neighbor</span>
<span class="output">(Empty result - no neighbors)</span>
<span class="comment"># Adjacency cannot be established due to area mismatch</span>

<span class="command">Router-B# show ip ospf neighbor</span>
<span class="output">(Empty result - no neighbors)</span>
<span class="comment"># Both routers don't see each other as neighbors</span>
                </div>
                
                <h4>Packet Tracer Simulation File:</h4>
                <p>You can download the Packet Tracer file containing the simulation of this OSPF neighbor problem <a href="packet_tracer/ospf_problem.pkt" download>here</a>.</p>
            </section>
            
            <section class="section">
                <h2>Common Causes of OSPF Neighbor Establishment Failure</h2>
                <p>For two OSPF routers to establish neighbor relationships, a series of parameters must be exactly the same. Here are the most common error causes:</p>
                <ul>
                    <li><strong>Different Area ID:</strong> Two router interfaces wanting to be neighbors must have the same OSPF Area ID. (Area 0 for backbone area).</li>
                    <li><strong>Different Subnet Mask:</strong> The IP addresses of the connected interfaces of two routers must be in the same subnet and subnet masks must match.</li>
                    <li><strong>Different OSPF Hello/Dead Interval Timers:</strong> Hello and Dead interval durations must be the same on both sides for neighbor relationship. (Default: Hello=10s, Dead=40s).</li>
                    <li><strong>Different OSPF Area Type:</strong> Area types (Stub, NSSA, etc.) must match.</li>
                    <li><strong>Different MTU (Maximum Transmission Unit) Values:</strong> If the MTU values of interfaces don't match, routers get stuck in Exchange phase. This problem is usually indicated in logs.</li>
                    <li><strong>Access Control Lists (ACLs):</strong> There may be an ACL on an interface or router-wide that blocks OSPF traffic (Destination IP 224.0.0.5 or 224.0.0.6).</li>
                    <li><strong>Authentication Errors:</strong> If OSPF authentication is configured, passwords or MD5 keys must match on both sides.</li>
                    <li><strong>Passive Interface Error:</strong> Incorrectly setting an interface that should establish neighbor relationships as "passive" prevents OSPF Hello packets from being sent from that interface.</li>
                </ul>
            </section>

            <section class="section">
                <h2>Symptoms and Detection Methods</h2>
                <h3>Cisco IOS Commands for Detection:</h3>
                <div class="code-block">
<pre><span class="comment"># List OSPF neighbors and their states</span>
<span class="command">Router# show ip ospf neighbor</span>
<span class="comment">If the neighbor's state in output is not "FULL" (e.g: "2WAY" or "EXSTART"), there's a problem.</span>

<span class="comment"># Check OSPF configured interfaces and their states</span>
<span class="command">Router# show ip ospf interface brief</span>

<span class="comment"># View detailed OSPF parameters of an interface (Hello/Dead intervals, Area ID etc.)</span>
<span class="command">Router# show ip ospf interface GigabitEthernet0/1</span>

<span class="comment"># View OSPF debug messages in real-time (Use carefully!)</span>
<span class="command">Router# debug ip ospf hello</span>
<span class="command">Router# debug ip ospf adj</span>
<span class="comment">Don't forget to use "no debug all" or "undebug all" command when finished.</span>
</pre>
                </div>
                 <div class="danger-box">
                    <strong>Warning:</strong> Using <code>debug</code> commands in a live (production) network can overload router CPU and negatively affect performance. Use only in a controlled manner and for short periods.
                </div>
            </section>
            
            <section class="section">
                <h2>Packet Tracer Simulation</h2>
                <div class="packet-tracer-box">
                    <p>To see different OSPF neighbor error scenarios (wrong area ID, MTU mismatch etc.) and their solutions, you can examine the related Packet Tracer file.</p>
                    <p><strong>File:</strong> <a href="packet_tracer/ospf_adjacency_problem.pkt" class="file-link">ospf_adjacency_problem.pkt</a></p>
                </div>
            </section>
        </main>

        <nav class="navigation">
            <a href="../../index.html" class="nav-button">â† Home</a>
            <a href="solution-en.html" class="nav-button">Solution Details â†’</a>
        </nav>
    </div>

    <!-- GSAP CDN for animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    
    <script>
        gsap.registerPlugin(ScrollTrigger);
        
        document.addEventListener('DOMContentLoaded', function() {
            // Custom Cursor System
            const cursor = document.getElementById('cursor');
            const cursorOutline = document.getElementById('cursorOutline');
            
            if (cursor && cursorOutline) {
                let mouseX = 0, mouseY = 0, outlineX = 0, outlineY = 0;
                
                setTimeout(() => {
                    cursor.style.opacity = '1';
                    cursorOutline.style.opacity = '1';
                }, 500);
                
                document.addEventListener('mousemove', (e) => {
                    mouseX = e.clientX; mouseY = e.clientY;
                    cursor.style.left = mouseX + 'px'; cursor.style.top = mouseY + 'px';
                });
                
                function animateOutline() {
                    outlineX += (mouseX - outlineX) * 0.1; outlineY += (mouseY - outlineY) * 0.1;
                    cursorOutline.style.left = outlineX + 'px'; cursorOutline.style.top = outlineY + 'px';
                    requestAnimationFrame(animateOutline);
                }
                animateOutline();
                
                // Interactive elements hover effects
                document.querySelectorAll('a, button, .nav-button, .lang-btn, .file-link').forEach(element => {
                    element.addEventListener('mouseenter', () => {
                        cursor.classList.add('cursor-hover'); cursorOutline.classList.add('cursor-outline-hover');
                    });
                    element.addEventListener('mouseleave', () => {
                        cursor.classList.remove('cursor-hover'); cursorOutline.classList.remove('cursor-outline-hover');
                    });
                });
            }
            
            // Initialize scroll animations for sections
            const sections = document.querySelectorAll('.section');
            sections.forEach((section, index) => {
                gsap.fromTo(section, {
                    opacity: 0,
                    y: 50
                }, {
                    opacity: 1,
                    y: 0,
                    duration: 0.8,
                    ease: "power3.out",
                    scrollTrigger: {
                        trigger: section,
                        start: "top 85%",
                        once: true
                    }
                });
            });
            
            console.log('ğŸ”§ Problem 04 Description (EN) - Interactive features loaded');
        });
    </script>
</body>
</html> 